
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Linear algebra powering self-driving cars, robots, and autonomous systems">
      
      
        <meta name="author" content="Dan McCreary">
      
      
        <link rel="canonical" href="https://dmccreary.github.io/linear-algebra/chapters/15-autonomous-systems-and-sensor-fusion/">
      
      
        <link rel="prev" href="../14-3d-geometry-and-transformations/quiz/">
      
      
        <link rel="next" href="quiz/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.43">
    
    
      
        <title>Autonomous Systems and Sensor Fusion - Linear Algebra</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-KC2L3G6KXH"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-KC2L3G6KXH",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-KC2L3G6KXH",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Autonomous Systems and Sensor Fusion - Linear Algebra" >
      
        <meta  property="og:description"  content="Linear algebra powering self-driving cars, robots, and autonomous systems" >
      
        <meta  property="og:image"  content="https://dmccreary.github.io/linear-algebra/assets/images/social/chapters/15-autonomous-systems-and-sensor-fusion/index.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://dmccreary.github.io/linear-algebra/chapters/15-autonomous-systems-and-sensor-fusion/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Autonomous Systems and Sensor Fusion - Linear Algebra" >
      
        <meta  name="twitter:description"  content="Linear algebra powering self-driving cars, robots, and autonomous systems" >
      
        <meta  name="twitter:image"  content="https://dmccreary.github.io/linear-algebra/assets/images/social/chapters/15-autonomous-systems-and-sensor-fusion/index.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#autonomous-systems-and-sensor-fusion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Linear Algebra" class="md-header__button md-logo" aria-label="Linear Algebra" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Linear Algebra
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Autonomous Systems and Sensor Fusion
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmccreary/linear-algebra" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Linear Algebra" class="md-nav__button md-logo" aria-label="Linear Algebra" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Linear Algebra
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmccreary/linear-algebra" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../course-description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course Description
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Chapters
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Chapters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../01-vectors-and-vector-spaces/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    1. Vectors and Vector Spaces
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../02-matrices-and-matrix-operations/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2. Matrices and Matrix Operations
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../03-systems-of-linear-equations/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    3. Systems of Linear Equations
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../04-linear-transformations/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    4. Linear Transformations
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../05-determinants-and-matrix-properties/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    5. Determinants and Matrix Properties
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../06-eigenvalues-and-eigenvectors/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    6. Eigenvalues and Eigenvectors
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../07-matrix-decompositions/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    7. Matrix Decompositions
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../08-vector-spaces-and-inner-products/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    8. Vector Spaces and Inner Products
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../09-machine-learning-foundations/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    9. Machine Learning Foundations
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../10-neural-networks-and-deep-learning/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    10. Neural Networks and Deep Learning
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../11-generative-ai-and-llms/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    11. Generative AI and LLMs
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../12-optimization-and-learning-algorithms/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    12. Optimization and Learning Algorithms
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../13-image-processing-and-computer-vision/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    13. Image Processing and Computer Vision
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../14-3d-geometry-and-transformations/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    14. 3D Geometry and Transformations
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_16" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    15. Autonomous Systems and Sensor Fusion
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_3_16" id="__nav_3_16_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_16_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_16">
            <span class="md-nav__icon md-icon"></span>
            15. Autonomous Systems and Sensor Fusion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quiz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quiz
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../sims/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    MicroSims
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../learning-graph/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Learning Graph
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../prompts/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Sample Prompts
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concepts-covered" class="md-nav__link">
    <span class="md-ellipsis">
      Concepts Covered
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensing-the-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Sensing the Environment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sensing the Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lidar-point-clouds" class="md-nav__link">
    <span class="md-ellipsis">
      LIDAR Point Clouds
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LIDAR Point Clouds">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-lidar-point-cloud-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: LIDAR Point Cloud Visualizer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#camera-calibration" class="md-nav__link">
    <span class="md-ellipsis">
      Camera Calibration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Camera Calibration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-camera-calibration-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Camera Calibration Visualizer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#state-estimation" class="md-nav__link">
    <span class="md-ellipsis">
      State Estimation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="State Estimation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-state-vector" class="md-nav__link">
    <span class="md-ellipsis">
      The State Vector
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The State Vector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vehicle-state-vector-example" class="md-nav__link">
    <span class="md-ellipsis">
      Vehicle State Vector Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-measurement-vector" class="md-nav__link">
    <span class="md-ellipsis">
      The Measurement Vector
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-kalman-filter" class="md-nav__link">
    <span class="md-ellipsis">
      The Kalman Filter
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Kalman Filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-kalman-filter-model" class="md-nav__link">
    <span class="md-ellipsis">
      The Kalman Filter Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-prediction-step" class="md-nav__link">
    <span class="md-ellipsis">
      The Prediction Step
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Prediction Step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kalman-filter-prediction" class="md-nav__link">
    <span class="md-ellipsis">
      Kalman Filter Prediction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-update-step" class="md-nav__link">
    <span class="md-ellipsis">
      The Update Step
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Update Step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kalman-filter-update" class="md-nav__link">
    <span class="md-ellipsis">
      Kalman Filter Update
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-kalman-gain" class="md-nav__link">
    <span class="md-ellipsis">
      The Kalman Gain
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Kalman Gain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-kalman-filter-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Kalman Filter Visualizer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-kalman-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Extended Kalman Filter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensor-fusion" class="md-nav__link">
    <span class="md-ellipsis">
      Sensor Fusion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sensor Fusion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-fuse-sensors" class="md-nav__link">
    <span class="md-ellipsis">
      Why Fuse Sensors?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fusion-architectures" class="md-nav__link">
    <span class="md-ellipsis">
      Fusion Architectures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fusion Architectures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-sensor-fusion-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Sensor Fusion Visualizer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#slam-simultaneous-localization-and-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      SLAM: Simultaneous Localization and Mapping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SLAM: Simultaneous Localization and Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-slam-problem" class="md-nav__link">
    <span class="md-ellipsis">
      The SLAM Problem
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slam-approaches" class="md-nav__link">
    <span class="md-ellipsis">
      SLAM Approaches
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graph-based-slam" class="md-nav__link">
    <span class="md-ellipsis">
      Graph-Based SLAM
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Graph-Based SLAM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-slam-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: SLAM Visualizer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-detection-and-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Object Detection and Tracking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Object Detection and Tracking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#object-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Object Detection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bounding-boxes" class="md-nav__link">
    <span class="md-ellipsis">
      Bounding Boxes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Object Tracking
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Object Tracking">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#diagram-object-tracking-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Object Tracking Visualizer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#path-and-motion-planning" class="md-nav__link">
    <span class="md-ellipsis">
      Path and Motion Planning
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Path and Motion Planning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#path-planning" class="md-nav__link">
    <span class="md-ellipsis">
      Path Planning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#motion-planning" class="md-nav__link">
    <span class="md-ellipsis">
      Motion Planning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trajectory-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      Trajectory Optimization
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trajectory Optimization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trajectory-cost-function" class="md-nav__link">
    <span class="md-ellipsis">
      Trajectory Cost Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagram-path-planning-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Path Planning Visualizer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diagram-trajectory-optimization-visualizer" class="md-nav__link">
    <span class="md-ellipsis">
      Diagram: Trajectory Optimization Visualizer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#putting-it-all-together" class="md-nav__link">
    <span class="md-ellipsis">
      Putting It All Together
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      Python Implementation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary_1" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#self-check-questions" class="md-nav__link">
    <span class="md-ellipsis">
      Self-Check Questions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/dmccreary/linear-algebra/edit/master/docs/chapters/15-autonomous-systems-and-sensor-fusion/index.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="autonomous-systems-and-sensor-fusion">Autonomous Systems and Sensor Fusion</h1>
<h2 id="summary">Summary</h2>
<p>The capstone chapter applies all course concepts to the complex, safety-critical domain of autonomous vehicles and robotics. You will learn LIDAR point cloud processing, camera calibration, sensor fusion with Kalman filters, state estimation and prediction, SLAM (Simultaneous Localization and Mapping), object detection and tracking, and path planning algorithms. These are the techniques that enable self-driving cars and autonomous robots.</p>
<h2 id="concepts-covered">Concepts Covered</h2>
<p>This chapter covers the following 20 concepts from the learning graph:</p>
<ol>
<li>LIDAR Point Cloud</li>
<li>Camera Calibration</li>
<li>Sensor Fusion</li>
<li>Kalman Filter</li>
<li>State Vector</li>
<li>Measurement Vector</li>
<li>Prediction Step</li>
<li>Update Step</li>
<li>Kalman Gain</li>
<li>Extended Kalman Filter</li>
<li>State Estimation</li>
<li>SLAM</li>
<li>Localization</li>
<li>Mapping</li>
<li>Object Detection</li>
<li>Object Tracking</li>
<li>Bounding Box</li>
<li>Path Planning</li>
<li>Motion Planning</li>
<li>Trajectory Optimization</li>
</ol>
<h2 id="prerequisites">Prerequisites</h2>
<p>This chapter builds on concepts from:</p>
<ul>
<li><a href="../01-vectors-and-vector-spaces/">Chapter 1: Vectors and Vector Spaces</a></li>
<li><a href="../02-matrices-and-matrix-operations/">Chapter 2: Matrices and Matrix Operations</a></li>
<li><a href="../10-neural-networks-and-deep-learning/">Chapter 10: Neural Networks and Deep Learning</a></li>
<li><a href="../12-optimization-and-learning-algorithms/">Chapter 12: Optimization and Learning Algorithms</a></li>
<li><a href="../13-image-processing-and-computer-vision/">Chapter 13: Image Processing and Computer Vision</a></li>
<li><a href="../14-3d-geometry-and-transformations/">Chapter 14: 3D Geometry and Transformations</a></li>
</ul>
<hr />
<h2 id="introduction">Introduction</h2>
<p>Autonomous systems—self-driving cars, delivery robots, drones—must perceive their environment, understand their location, and plan safe paths through the world. These capabilities require integrating everything we've learned about linear algebra:</p>
<ul>
<li><strong>Sensor data</strong> arrives as vectors and matrices (images, point clouds)</li>
<li><strong>State estimation</strong> uses matrix equations to fuse noisy measurements</li>
<li><strong>Transformations</strong> relate sensor frames to world coordinates</li>
<li><strong>Optimization</strong> finds efficient, collision-free trajectories</li>
</ul>
<p>This capstone chapter synthesizes these concepts into the complete autonomy stack used by real-world robots and vehicles.</p>
<h2 id="sensing-the-environment">Sensing the Environment</h2>
<p>Autonomous systems perceive the world through multiple sensors, each providing complementary information.</p>
<h3 id="lidar-point-clouds">LIDAR Point Clouds</h3>
<p><strong>LIDAR</strong> (Light Detection and Ranging) measures distances by timing laser pulses. A spinning LIDAR captures a <strong>point cloud</strong>—a set of 3D points representing surfaces in the environment.</p>
<p>Each LIDAR point contains:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Typical Range</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="arithmatex">\((x, y, z)\)</span></td>
<td>3D position</td>
<td>0.5-200 meters</td>
</tr>
<tr>
<td>Intensity</td>
<td>Reflection strength</td>
<td>0-255</td>
</tr>
<tr>
<td>Ring/Channel</td>
<td>Which laser beam</td>
<td>0-127</td>
</tr>
<tr>
<td>Timestamp</td>
<td>Acquisition time</td>
<td>Nanosecond precision</td>
</tr>
</tbody>
</table>
<p>A single LIDAR scan may contain 100,000+ points, producing a sparse but accurate 3D representation.</p>
<p><strong>Processing pipeline:</strong></p>
<ol>
<li><strong>Ground removal:</strong> Segment points into ground vs obstacles</li>
<li><strong>Clustering:</strong> Group nearby points into objects</li>
<li><strong>Classification:</strong> Identify object types (car, pedestrian, cyclist)</li>
<li><strong>Tracking:</strong> Associate objects across frames</li>
</ol>
<h4 id="diagram-lidar-point-cloud-visualizer">Diagram: LIDAR Point Cloud Visualizer</h4>
<iframe src="../../sims/lidar-point-cloud/main.html" height="652px" width="100%" scrolling="no"></iframe>

<p><a class="md-button md-button--primary" href="../../sims/lidar-point-cloud/main.html">Run the LIDAR Point Cloud Visualizer Fullscreen</a></p>
<details>
<summary>LIDAR Point Cloud Visualizer</summary>
<p>Type: microsim</p>
<p>Learning objective: Understand LIDAR data structure and basic processing (Bloom: Understand)</p>
<p>Visual elements:
- 3D point cloud rendering with intensity coloring
- Ground plane visualization
- Clustered objects highlighted in different colors
- Ego vehicle position marker at origin
- Distance rings at 10m, 25m, 50m</p>
<p>Interactive controls:
- Rotate/zoom/pan 3D view
- Toggle: Show ground points
- Toggle: Show clustered objects
- Slider: Point size
- Slider: Intensity threshold
- Dropdown: Color by (intensity, height, distance, cluster)</p>
<p>Canvas layout: 850x650px with 3D point cloud view</p>
<p>Behavior:
- Load sample LIDAR scans from driving dataset
- Real-time ground segmentation preview
- Click on cluster to show point count and bounding box
- Animate through sequence of scans</p>
<p>Implementation: p5.js with WEBGL, point rendering</p>
</details>
<h3 id="camera-calibration">Camera Calibration</h3>
<p><strong>Camera calibration</strong> determines the intrinsic and extrinsic parameters needed to accurately project 3D points to image pixels and vice versa.</p>
<p><strong>Intrinsic calibration</strong> finds the camera matrix <span class="arithmatex">\(\mathbf{K}\)</span>:</p>
<p><span class="arithmatex">\(\mathbf{K} = \begin{bmatrix} f_x &amp; 0 &amp; c_x \\ 0 &amp; f_y &amp; c_y \\ 0 &amp; 0 &amp; 1 \end{bmatrix}\)</span></p>
<p>Plus distortion coefficients <span class="arithmatex">\((k_1, k_2, p_1, p_2, k_3)\)</span> for radial and tangential lens distortion.</p>
<p><strong>Extrinsic calibration</strong> finds the transformation between sensors:</p>
<ul>
<li>Camera-to-LIDAR: <span class="arithmatex">\(\mathbf{T}_{CL}\)</span> for projecting LIDAR points onto images</li>
<li>Camera-to-vehicle: <span class="arithmatex">\(\mathbf{T}_{CV}\)</span> for relating detections to vehicle frame</li>
</ul>
<table>
<thead>
<tr>
<th>Calibration Type</th>
<th>What It Determines</th>
<th>Method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intrinsic</td>
<td>Focal length, principal point, distortion</td>
<td>Checkerboard pattern</td>
</tr>
<tr>
<td>Extrinsic (camera-LIDAR)</td>
<td>Relative pose</td>
<td>Correspondences or joint optimization</td>
</tr>
<tr>
<td>Extrinsic (multi-camera)</td>
<td>Camera arrangement</td>
<td>Overlapping views</td>
</tr>
</tbody>
</table>
<h4 id="diagram-camera-calibration-visualizer">Diagram: Camera Calibration Visualizer</h4>
<iframe src="../../sims/camera-calibration/main.html" height="602px" width="100%" scrolling="no"></iframe>

<p><a class="md-button md-button--primary" href="../../sims/camera-calibration/main.html">Run the Camera Calibration Visualizer Fullscreen</a></p>
<details>
<summary>Camera Calibration Visualizer</summary>
<p>Type: microsim</p>
<p>Learning objective: Understand camera calibration process and distortion correction (Bloom: Apply)</p>
<p>Visual elements:
- Raw image with detected checkerboard corners
- Undistorted image showing correction
- 3D view of checkerboard poses
- Reprojection error visualization</p>
<p>Interactive controls:
- Slider: Radial distortion k1, k2
- Slider: Focal length
- Toggle: Show/hide detected corners
- Toggle: Show reprojection errors as vectors
- Button: "Calibrate" (run optimization)</p>
<p>Canvas layout: 900x600px with raw/corrected image comparison</p>
<p>Behavior:
- Display checkerboard corner detection
- Show barrel/pincushion distortion effects
- Visualize how calibration reduces reprojection error
- Display calibration matrix values</p>
<p>Implementation: p5.js with corner detection simulation</p>
</details>
<h2 id="state-estimation">State Estimation</h2>
<p>Autonomous systems must estimate their state (position, velocity, orientation) from noisy sensor measurements. <strong>State estimation</strong> is the process of inferring the true state from uncertain observations.</p>
<h3 id="the-state-vector">The State Vector</h3>
<p>The <strong>state vector</strong> <span class="arithmatex">\(\mathbf{x}\)</span> contains all variables we want to estimate:</p>
<h4 id="vehicle-state-vector-example">Vehicle State Vector Example</h4>
<p><span class="arithmatex">\(\mathbf{x} = \begin{bmatrix} p_x \\ p_y \\ v_x \\ v_y \\ \theta \\ \omega \end{bmatrix}\)</span></p>
<p>where:</p>
<ul>
<li><span class="arithmatex">\((p_x, p_y)\)</span> is position</li>
<li><span class="arithmatex">\((v_x, v_y)\)</span> is velocity</li>
<li><span class="arithmatex">\(\theta\)</span> is heading angle</li>
<li><span class="arithmatex">\(\omega\)</span> is angular velocity (yaw rate)</li>
</ul>
<p>The state dimension depends on what we're tracking:</p>
<table>
<thead>
<tr>
<th>Application</th>
<th>State Variables</th>
<th>Dimension</th>
</tr>
</thead>
<tbody>
<tr>
<td>2D position only</td>
<td><span class="arithmatex">\(x, y\)</span></td>
<td>2</td>
</tr>
<tr>
<td>2D with velocity</td>
<td><span class="arithmatex">\(x, y, v_x, v_y\)</span></td>
<td>4</td>
</tr>
<tr>
<td>2D with heading</td>
<td><span class="arithmatex">\(x, y, \theta, v, \omega\)</span></td>
<td>5</td>
</tr>
<tr>
<td>3D pose</td>
<td><span class="arithmatex">\(x, y, z, \phi, \theta, \psi\)</span></td>
<td>6</td>
</tr>
<tr>
<td>Full 3D dynamics</td>
<td>Position, velocity, orientation, angular velocity</td>
<td>12+</td>
</tr>
</tbody>
</table>
<h3 id="the-measurement-vector">The Measurement Vector</h3>
<p>The <strong>measurement vector</strong> <span class="arithmatex">\(\mathbf{z}\)</span> contains sensor observations:</p>
<p><span class="arithmatex">\(\mathbf{z} = \begin{bmatrix} z_1 \\ z_2 \\ \vdots \\ z_m \end{bmatrix}\)</span></p>
<p>Measurements are related to the state by the <strong>observation model</strong>:</p>
<p><span class="arithmatex">\(\mathbf{z} = \mathbf{H}\mathbf{x} + \mathbf{v}\)</span></p>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(\mathbf{H}\)</span> is the observation matrix (which state variables are observed)</li>
<li><span class="arithmatex">\(\mathbf{v}\)</span> is measurement noise (typically Gaussian with covariance <span class="arithmatex">\(\mathbf{R}\)</span>)</li>
</ul>
<table>
<thead>
<tr>
<th>Sensor</th>
<th>Measures</th>
<th>Observation Matrix <span class="arithmatex">\(\mathbf{H}\)</span></th>
</tr>
</thead>
<tbody>
<tr>
<td>GPS</td>
<td>Position only</td>
<td><span class="arithmatex">\([I_{2×2}, 0_{2×4}]\)</span></td>
</tr>
<tr>
<td>Speedometer</td>
<td>Speed magnitude</td>
<td>Nonlinear</td>
</tr>
<tr>
<td>IMU</td>
<td>Acceleration, angular velocity</td>
<td>Depends on state definition</td>
</tr>
<tr>
<td>Camera</td>
<td>Bearing to landmarks</td>
<td>Nonlinear</td>
</tr>
</tbody>
</table>
<h2 id="the-kalman-filter">The Kalman Filter</h2>
<p>The <strong>Kalman filter</strong> is the optimal estimator for linear systems with Gaussian noise. It recursively estimates the state by combining predictions with measurements.</p>
<h3 id="the-kalman-filter-model">The Kalman Filter Model</h3>
<p>The system evolves according to:</p>
<p><strong>State transition:</strong>
<span class="arithmatex">\(\mathbf{x}_k = \mathbf{F}\mathbf{x}_{k-1} + \mathbf{B}\mathbf{u}_k + \mathbf{w}_k\)</span></p>
<p><strong>Observation:</strong>
<span class="arithmatex">\(\mathbf{z}_k = \mathbf{H}\mathbf{x}_k + \mathbf{v}_k\)</span></p>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(\mathbf{F}\)</span> is the state transition matrix</li>
<li><span class="arithmatex">\(\mathbf{B}\)</span> is the control input matrix</li>
<li><span class="arithmatex">\(\mathbf{u}_k\)</span> is the control input (e.g., acceleration command)</li>
<li><span class="arithmatex">\(\mathbf{w}_k \sim \mathcal{N}(0, \mathbf{Q})\)</span> is process noise</li>
<li><span class="arithmatex">\(\mathbf{v}_k \sim \mathcal{N}(0, \mathbf{R})\)</span> is measurement noise</li>
</ul>
<h3 id="the-prediction-step">The Prediction Step</h3>
<p>The <strong>prediction step</strong> propagates the state estimate forward in time:</p>
<h4 id="kalman-filter-prediction">Kalman Filter Prediction</h4>
<p><span class="arithmatex">\(\hat{\mathbf{x}}_k^- = \mathbf{F}\hat{\mathbf{x}}_{k-1} + \mathbf{B}\mathbf{u}_k\)</span></p>
<p><span class="arithmatex">\(\mathbf{P}_k^- = \mathbf{F}\mathbf{P}_{k-1}\mathbf{F}^\top + \mathbf{Q}\)</span></p>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(\hat{\mathbf{x}}_k^-\)</span> is the predicted state (prior)</li>
<li><span class="arithmatex">\(\mathbf{P}_k^-\)</span> is the predicted covariance (uncertainty grows)</li>
<li>The superscript <span class="arithmatex">\(^-\)</span> indicates "before incorporating measurement"</li>
</ul>
<h3 id="the-update-step">The Update Step</h3>
<p>The <strong>update step</strong> incorporates the new measurement:</p>
<h4 id="kalman-filter-update">Kalman Filter Update</h4>
<p><span class="arithmatex">\(\mathbf{K}_k = \mathbf{P}_k^- \mathbf{H}^\top (\mathbf{H}\mathbf{P}_k^-\mathbf{H}^\top + \mathbf{R})^{-1}\)</span></p>
<p><span class="arithmatex">\(\hat{\mathbf{x}}_k = \hat{\mathbf{x}}_k^- + \mathbf{K}_k(\mathbf{z}_k - \mathbf{H}\hat{\mathbf{x}}_k^-)\)</span></p>
<p><span class="arithmatex">\(\mathbf{P}_k = (\mathbf{I} - \mathbf{K}_k\mathbf{H})\mathbf{P}_k^-\)</span></p>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(\mathbf{K}_k\)</span> is the Kalman gain</li>
<li><span class="arithmatex">\((\mathbf{z}_k - \mathbf{H}\hat{\mathbf{x}}_k^-)\)</span> is the innovation (measurement residual)</li>
<li><span class="arithmatex">\(\mathbf{P}_k\)</span> is the updated (posterior) covariance</li>
</ul>
<h3 id="the-kalman-gain">The Kalman Gain</h3>
<p>The <strong>Kalman gain</strong> <span class="arithmatex">\(\mathbf{K}\)</span> optimally weights the prediction versus the measurement:</p>
<ul>
<li>When measurement noise <span class="arithmatex">\(\mathbf{R}\)</span> is large: <span class="arithmatex">\(\mathbf{K} \to 0\)</span> (trust prediction)</li>
<li>When prediction uncertainty <span class="arithmatex">\(\mathbf{P}^-\)</span> is large: <span class="arithmatex">\(\mathbf{K} \to \mathbf{H}^{-1}\)</span> (trust measurement)</li>
</ul>
<p>The Kalman gain minimizes the expected squared estimation error—it's the optimal linear estimator.</p>
<h4 id="diagram-kalman-filter-visualizer">Diagram: Kalman Filter Visualizer</h4>
<iframe src="../../sims/kalman-filter/main.html" height="602px" width="100%" scrolling="no"></iframe>

<p><a class="md-button md-button--primary" href="../../sims/kalman-filter/main.html">Run the Kalman Filter Visualizer Fullscreen</a></p>
<details>
<summary>Kalman Filter Visualizer</summary>
<p>Type: microsim</p>
<p>Learning objective: Understand how Kalman filter combines prediction and measurement (Bloom: Apply)</p>
<p>Visual elements:
- 2D tracking display with true position (hidden), estimate, and measurements
- Uncertainty ellipse showing covariance
- Prediction arrow (where we expect to go)
- Measurement marker (noisy observation)
- Innovation vector (measurement - prediction)</p>
<p>Interactive controls:
- Slider: Process noise Q (how much motion varies)
- Slider: Measurement noise R (sensor accuracy)
- Button: "Step" (one predict-update cycle)
- Button: "Run" (continuous tracking)
- Toggle: Show true position (for debugging)
- Dropdown: Motion model (constant velocity, constant acceleration)</p>
<p>Canvas layout: 800x600px with tracking visualization</p>
<p>Behavior:
- Simulate object moving with random accelerations
- Generate noisy measurements
- Show uncertainty ellipse growing in prediction, shrinking after update
- Display Kalman gain magnitude
- Plot estimation error over time</p>
<p>Implementation: p5.js with matrix operations for Kalman equations</p>
</details>
<h3 id="extended-kalman-filter">Extended Kalman Filter</h3>
<p>The <strong>Extended Kalman Filter (EKF)</strong> handles nonlinear systems by linearizing around the current estimate.</p>
<p>For nonlinear models:</p>
<p><span class="arithmatex">\(\mathbf{x}_k = f(\mathbf{x}_{k-1}, \mathbf{u}_k) + \mathbf{w}_k\)</span></p>
<p><span class="arithmatex">\(\mathbf{z}_k = h(\mathbf{x}_k) + \mathbf{v}_k\)</span></p>
<p>The EKF uses Jacobians instead of constant matrices:</p>
<table>
<thead>
<tr>
<th>Standard KF</th>
<th>EKF Equivalent</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="arithmatex">\(\mathbf{F}\)</span></td>
<td>$\mathbf{F}_k = \frac{\partial f}{\partial \mathbf{x}}\bigg</td>
</tr>
<tr>
<td><span class="arithmatex">\(\mathbf{H}\)</span></td>
<td>$\mathbf{H}_k = \frac{\partial h}{\partial \mathbf{x}}\bigg</td>
</tr>
</tbody>
</table>
<p>Common nonlinearities in autonomous systems:</p>
<ul>
<li><strong>Coordinate transforms:</strong> Polar to Cartesian for radar</li>
<li><strong>Motion models:</strong> Constant turn rate and velocity (CTRV)</li>
<li><strong>Observation models:</strong> Bearing and range from position</li>
</ul>
<h2 id="sensor-fusion">Sensor Fusion</h2>
<p><strong>Sensor fusion</strong> combines data from multiple sensors to achieve better accuracy and robustness than any single sensor alone.</p>
<h3 id="why-fuse-sensors">Why Fuse Sensors?</h3>
<table>
<thead>
<tr>
<th>Sensor</th>
<th>Strengths</th>
<th>Weaknesses</th>
</tr>
</thead>
<tbody>
<tr>
<td>GPS</td>
<td>Absolute position, global</td>
<td>Low rate, poor in tunnels/urban canyons</td>
</tr>
<tr>
<td>IMU</td>
<td>High rate, works everywhere</td>
<td>Drift over time</td>
</tr>
<tr>
<td>LIDAR</td>
<td>Accurate 3D, works in dark</td>
<td>Expensive, sparse</td>
</tr>
<tr>
<td>Camera</td>
<td>Dense, semantic info</td>
<td>Affected by lighting, no direct depth</td>
</tr>
<tr>
<td>Radar</td>
<td>Works in weather, velocity</td>
<td>Low resolution</td>
</tr>
</tbody>
</table>
<p>Fusion compensates for individual sensor weaknesses:</p>
<ul>
<li>GPS + IMU: High-rate positioning with drift correction</li>
<li>Camera + LIDAR: Dense semantic 3D understanding</li>
<li>Radar + Camera: All-weather perception with classification</li>
</ul>
<h3 id="fusion-architectures">Fusion Architectures</h3>
<table>
<thead>
<tr>
<th>Architecture</th>
<th>Description</th>
<th>Pros</th>
<th>Cons</th>
</tr>
</thead>
<tbody>
<tr>
<td>Early fusion</td>
<td>Combine raw data</td>
<td>Maximum information</td>
<td>Complex, tight coupling</td>
</tr>
<tr>
<td>Late fusion</td>
<td>Combine detections/tracks</td>
<td>Modular, sensor-independent</td>
<td>May lose information</td>
</tr>
<tr>
<td>Mid-level fusion</td>
<td>Combine features</td>
<td>Balance of flexibility and info</td>
<td>Design complexity</td>
</tr>
</tbody>
</table>
<p>The Kalman filter naturally performs sensor fusion by incorporating multiple measurement sources in the update step:</p>
<p><span class="arithmatex">\(\mathbf{z} = \begin{bmatrix} \mathbf{z}_{GPS} \\ \mathbf{z}_{IMU} \\ \vdots \end{bmatrix}, \quad \mathbf{H} = \begin{bmatrix} \mathbf{H}_{GPS} \\ \mathbf{H}_{IMU} \\ \vdots \end{bmatrix}\)</span></p>
<h4 id="diagram-sensor-fusion-visualizer">Diagram: Sensor Fusion Visualizer</h4>
<iframe src="../../sims/sensor-fusion/main.html" height="652px" width="100%" scrolling="no"></iframe>

<p><a class="md-button md-button--primary" href="../../sims/sensor-fusion/main.html">Run the Sensor Fusion Visualizer Fullscreen</a></p>
<details>
<summary>Sensor Fusion Visualizer</summary>
<p>Type: microsim</p>
<p>Learning objective: Understand how multiple sensors improve state estimation (Bloom: Analyze)</p>
<p>Visual elements:
- Vehicle track with true position
- GPS measurements (blue dots, noisy, low rate)
- IMU-based dead reckoning (orange line, drifting)
- Fused estimate (green line, best of both)
- Uncertainty ellipses for each estimate</p>
<p>Interactive controls:
- Toggle: Enable/disable GPS
- Toggle: Enable/disable IMU
- Slider: GPS noise level
- Slider: IMU drift rate
- Button: "Run simulation"
- Display: RMSE for each estimation method</p>
<p>Canvas layout: 850x650px with tracking comparison</p>
<p>Behavior:
- Show GPS-only tracking (jumpy, gaps)
- Show IMU-only tracking (smooth but drifting)
- Show fused result (smooth and accurate)
- Quantify improvement from fusion</p>
<p>Implementation: p5.js with multi-sensor Kalman filter</p>
</details>
<h2 id="slam-simultaneous-localization-and-mapping">SLAM: Simultaneous Localization and Mapping</h2>
<p><strong>SLAM</strong> solves the chicken-and-egg problem: to localize, you need a map; to build a map, you need to know your location.</p>
<h3 id="the-slam-problem">The SLAM Problem</h3>
<p>SLAM jointly estimates:</p>
<ol>
<li><strong>Localization:</strong> The robot's pose over time</li>
<li><strong>Mapping:</strong> The positions of landmarks/features in the environment</li>
</ol>
<p>The state vector grows as new landmarks are discovered:</p>
<p><span class="arithmatex">\(\mathbf{x} = \begin{bmatrix} \mathbf{x}_R \\ \mathbf{m}_1 \\ \mathbf{m}_2 \\ \vdots \\ \mathbf{m}_n \end{bmatrix}\)</span></p>
<p>where <span class="arithmatex">\(\mathbf{x}_R\)</span> is the robot pose and <span class="arithmatex">\(\mathbf{m}_i\)</span> are landmark positions.</p>
<h3 id="slam-approaches">SLAM Approaches</h3>
<table>
<thead>
<tr>
<th>Approach</th>
<th>Representation</th>
<th>Scalability</th>
<th>Accuracy</th>
</tr>
</thead>
<tbody>
<tr>
<td>EKF-SLAM</td>
<td>Gaussian, dense covariance</td>
<td>O(n²) landmarks</td>
<td>High (small maps)</td>
</tr>
<tr>
<td>Particle Filter SLAM</td>
<td>Particles for pose, EKF for map</td>
<td>Medium maps</td>
<td>Good</td>
</tr>
<tr>
<td>Graph-based SLAM</td>
<td>Pose graph, optimization</td>
<td>Large maps</td>
<td>Very high</td>
</tr>
<tr>
<td>Visual SLAM</td>
<td>Features from cameras</td>
<td>Real-time capable</td>
<td>Good</td>
</tr>
</tbody>
</table>
<h3 id="graph-based-slam">Graph-Based SLAM</h3>
<p>Modern SLAM systems formulate the problem as <strong>graph optimization</strong>:</p>
<ul>
<li><strong>Nodes:</strong> Robot poses at different times, landmark positions</li>
<li><strong>Edges:</strong> Constraints from odometry and observations</li>
<li><strong>Optimization:</strong> Find poses/landmarks minimizing total constraint error</li>
</ul>
<p>The optimization minimizes:</p>
<p><span class="arithmatex">\(\mathbf{x}^* = \arg\min_{\mathbf{x}} \sum_{\langle i,j \rangle} \| \mathbf{z}_{ij} - h(\mathbf{x}_i, \mathbf{x}_j) \|^2_{\mathbf{\Omega}_{ij}}\)</span></p>
<p>where <span class="arithmatex">\(\mathbf{z}_{ij}\)</span> is the measurement between nodes <span class="arithmatex">\(i\)</span> and <span class="arithmatex">\(j\)</span>, and <span class="arithmatex">\(\mathbf{\Omega}_{ij}\)</span> is the information matrix (inverse covariance).</p>
<h4 id="diagram-slam-visualizer">Diagram: SLAM Visualizer</h4>
<iframe src="../../sims/slam-visualizer/main.html" height="702px" width="100%" scrolling="no"></iframe>

<p><a class="md-button md-button--primary" href="../../sims/slam-visualizer/main.html">Run the SLAM Visualizer Fullscreen</a></p>
<details>
<summary>SLAM Visualizer</summary>
<p>Type: microsim</p>
<p>Learning objective: Understand the SLAM problem and loop closure (Bloom: Analyze)</p>
<p>Visual elements:
- Robot trajectory (estimated vs true)
- Landmark positions (estimated vs true)
- Pose graph edges
- Loop closure detection highlight
- Uncertainty ellipses on poses and landmarks</p>
<p>Interactive controls:
- Button: "Move robot" (add new pose)
- Button: "Add landmark observation"
- Button: "Loop closure" (recognize previously seen place)
- Toggle: Show covariance ellipses
- Slider: Odometry noise
- Button: "Optimize graph"</p>
<p>Canvas layout: 900x700px with SLAM visualization</p>
<p>Behavior:
- Show drift accumulating without loop closures
- Demonstrate how loop closure corrects the entire trajectory
- Visualize uncertainty reduction after optimization
- Display before/after comparison for loop closure</p>
<p>Implementation: p5.js with simple graph optimization</p>
</details>
<h2 id="object-detection-and-tracking">Object Detection and Tracking</h2>
<p>Autonomous systems must detect other road users and track them over time to predict their future behavior.</p>
<h3 id="object-detection">Object Detection</h3>
<p><strong>Object detection</strong> identifies and localizes objects in sensor data:</p>
<ul>
<li><strong>2D detection (camera):</strong> Bounding boxes in image coordinates</li>
<li><strong>3D detection (LIDAR):</strong> 3D bounding boxes in world coordinates</li>
</ul>
<p>Modern detection uses deep learning (CNNs for images, PointNets for point clouds).</p>
<h3 id="bounding-boxes">Bounding Boxes</h3>
<p>A <strong>bounding box</strong> represents an object's spatial extent:</p>
<p><strong>2D Bounding Box:</strong>
<span class="arithmatex">\((x_{min}, y_{min}, x_{max}, y_{max})\)</span> or <span class="arithmatex">\((x_{center}, y_{center}, width, height)\)</span></p>
<p><strong>3D Bounding Box:</strong></p>
<p><span class="arithmatex">\(\mathbf{B} = (x, y, z, l, w, h, \theta)\)</span></p>
<p>where:</p>
<ul>
<li><span class="arithmatex">\((x, y, z)\)</span> is the center position</li>
<li><span class="arithmatex">\((l, w, h)\)</span> are length, width, height</li>
<li><span class="arithmatex">\(\theta\)</span> is the heading angle (yaw)</li>
</ul>
<table>
<thead>
<tr>
<th>Detection Output</th>
<th>Components</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td>2D box</td>
<td>4 values + class</td>
<td>Image-based detection</td>
</tr>
<tr>
<td>3D box</td>
<td>7 values + class</td>
<td>LIDAR/fusion detection</td>
</tr>
<tr>
<td>Oriented box</td>
<td>Center, axes, rotation</td>
<td>General 3D objects</td>
</tr>
<tr>
<td>Polygon/mask</td>
<td>Variable points</td>
<td>Precise shape</td>
</tr>
</tbody>
</table>
<h3 id="object-tracking">Object Tracking</h3>
<p><strong>Object tracking</strong> associates detections across time to maintain consistent object identities.</p>
<p>The tracking pipeline:</p>
<ol>
<li><strong>Prediction:</strong> Where do we expect objects to be? (Kalman filter)</li>
<li><strong>Association:</strong> Match predictions to new detections</li>
<li><strong>Update:</strong> Refine state estimates with matched detections</li>
<li><strong>Track management:</strong> Create new tracks, delete lost tracks</li>
</ol>
<p><strong>Association</strong> uses distance metrics:</p>
<ul>
<li><strong>IoU (Intersection over Union):</strong> Geometric overlap of boxes</li>
<li><strong>Mahalanobis distance:</strong> Statistical distance using uncertainty</li>
<li><strong>Appearance features:</strong> Visual similarity (deep learning embeddings)</li>
</ul>
<p>The <strong>Hungarian algorithm</strong> finds optimal one-to-one assignment minimizing total cost.</p>
<h4 id="diagram-object-tracking-visualizer">Diagram: Object Tracking Visualizer</h4>
<iframe src="../../sims/object-tracking/main.html" height="652px" width="100%" scrolling="no"></iframe>

<p><a class="md-button md-button--primary" href="../../sims/object-tracking/main.html">Run the Object Tracking Visualizer Fullscreen</a></p>
<details>
<summary>Object Tracking Visualizer</summary>
<p>Type: microsim</p>
<p>Learning objective: Understand multi-object tracking with prediction and association (Bloom: Apply)</p>
<p>Visual elements:
- Top-down view of scene with multiple moving objects
- Predicted positions (dashed boxes)
- Detected positions (solid boxes)
- Track IDs displayed on each object
- Association lines connecting predictions to detections</p>
<p>Interactive controls:
- Button: "Step" (advance one frame)
- Button: "Run" (continuous tracking)
- Toggle: Show predictions
- Toggle: Show track history (trails)
- Slider: Detection noise
- Slider: Miss probability (some detections missing)</p>
<p>Canvas layout: 800x650px with tracking visualization</p>
<p>Behavior:
- Objects move with realistic motion patterns
- Generate noisy detections with occasional misses
- Show prediction-to-detection association
- Handle track creation (new objects) and deletion (lost objects)
- Display track count and IDs</p>
<p>Implementation: p5.js with Kalman tracking and Hungarian assignment</p>
</details>
<h2 id="path-and-motion-planning">Path and Motion Planning</h2>
<p>Given the current state and a goal, planning algorithms find safe, efficient paths through the environment.</p>
<h3 id="path-planning">Path Planning</h3>
<p><strong>Path planning</strong> finds a collision-free geometric path from start to goal.</p>
<p>Classic algorithms:</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th>Type</th>
<th>Optimality</th>
<th>Completeness</th>
</tr>
</thead>
<tbody>
<tr>
<td>A*</td>
<td>Graph search</td>
<td>Optimal (with admissible heuristic)</td>
<td>Yes</td>
</tr>
<tr>
<td>RRT</td>
<td>Sampling-based</td>
<td>Asymptotically optimal (RRT*)</td>
<td>Probabilistically complete</td>
</tr>
<tr>
<td>Dijkstra</td>
<td>Graph search</td>
<td>Optimal</td>
<td>Yes</td>
</tr>
<tr>
<td>Potential fields</td>
<td>Gradient descent</td>
<td>No</td>
<td>No (local minima)</td>
</tr>
</tbody>
</table>
<p><strong>A* algorithm:</strong></p>
<p><span class="arithmatex">\(f(n) = g(n) + h(n)\)</span></p>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(g(n)\)</span> is the cost from start to node <span class="arithmatex">\(n\)</span></li>
<li><span class="arithmatex">\(h(n)\)</span> is the heuristic estimate from <span class="arithmatex">\(n\)</span> to goal</li>
<li>A* expands nodes in order of lowest <span class="arithmatex">\(f(n)\)</span></li>
</ul>
<h3 id="motion-planning">Motion Planning</h3>
<p><strong>Motion planning</strong> extends path planning to consider vehicle dynamics:</p>
<ul>
<li><strong>Kinematic constraints:</strong> Minimum turning radius, maximum steering angle</li>
<li><strong>Dynamic constraints:</strong> Acceleration limits, comfort bounds</li>
<li><strong>Temporal constraints:</strong> Speed limits, timing requirements</li>
</ul>
<p>The vehicle must follow paths that are physically achievable.</p>
<h3 id="trajectory-optimization">Trajectory Optimization</h3>
<p><strong>Trajectory optimization</strong> finds the optimal trajectory minimizing a cost function:</p>
<h4 id="trajectory-cost-function">Trajectory Cost Function</h4>
<p><span class="arithmatex">\(J = \int_0^T \left[ w_1 \|\ddot{\mathbf{x}}\|^2 + w_2 \|\mathbf{u}\|^2 + w_3 c_{obstacle}(\mathbf{x}) \right] dt + w_4 \|\mathbf{x}(T) - \mathbf{x}_{goal}\|^2\)</span></p>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(\|\ddot{\mathbf{x}}\|^2\)</span> penalizes acceleration (smoothness)</li>
<li><span class="arithmatex">\(\|\mathbf{u}\|^2\)</span> penalizes control effort</li>
<li><span class="arithmatex">\(c_{obstacle}\)</span> penalizes proximity to obstacles</li>
<li>The final term penalizes distance to goal</li>
</ul>
<p>This is solved using:</p>
<ul>
<li><strong>Nonlinear optimization:</strong> Sequential quadratic programming (SQP)</li>
<li><strong>Model predictive control:</strong> Receding horizon optimization</li>
<li><strong>Sampling methods:</strong> Generate and evaluate candidate trajectories</li>
</ul>
<h4 id="diagram-path-planning-visualizer">Diagram: Path Planning Visualizer</h4>
<iframe src="../../sims/path-planning/main.html" height="702px" width="100%" scrolling="no"></iframe>

<p><a class="md-button md-button--primary" href="../../sims/path-planning/main.html">Run the Path Planning Visualizer Fullscreen</a></p>
<details>
<summary>Path Planning Visualizer</summary>
<p>Type: microsim</p>
<p>Learning objective: Compare path planning algorithms (Bloom: Evaluate)</p>
<p>Visual elements:
- 2D environment with obstacles
- Start and goal positions
- Planned path(s)
- Explored nodes/samples (for search visualization)
- Collision-free corridor</p>
<p>Interactive controls:
- Click to place start/goal
- Draw obstacles (click and drag)
- Dropdown: Algorithm (A<em>, RRT, Dijkstra, RRT</em>)
- Slider: Grid resolution (for A*)
- Button: "Plan" (run algorithm)
- Button: "Clear obstacles"
- Toggle: Show exploration</p>
<p>Canvas layout: 850x700px with planning environment</p>
<p>Behavior:
- Animate algorithm exploration (A* wave, RRT tree growth)
- Display path length and computation time
- Show algorithm-specific parameters
- Compare multiple algorithms on same environment</p>
<p>Implementation: p5.js with grid-based and sampling-based planners</p>
</details>
<h4 id="diagram-trajectory-optimization-visualizer">Diagram: Trajectory Optimization Visualizer</h4>
<iframe src="../../sims/trajectory-optimization/main.html" height="702px" width="100%" scrolling="no"></iframe>

<p><a class="md-button md-button--primary" href="../../sims/trajectory-optimization/main.html">Run the Trajectory Optimization Visualizer Fullscreen</a></p>
<details>
<summary>Trajectory Optimization Visualizer</summary>
<p>Type: microsim</p>
<p>Learning objective: Understand trajectory optimization with constraints (Bloom: Apply)</p>
<p>Visual elements:
- Vehicle trajectory through obstacle field
- Velocity profile along path
- Acceleration profile
- Obstacle proximity visualization
- Optimization cost convergence plot</p>
<p>Interactive controls:
- Slider: Smoothness weight (w1)
- Slider: Speed limit
- Slider: Obstacle clearance margin
- Draggable waypoints
- Button: "Optimize"
- Toggle: Show velocity/acceleration profiles</p>
<p>Canvas layout: 900x700px with trajectory and profiles</p>
<p>Behavior:
- Initial path from waypoints
- Optimization smooths path while avoiding obstacles
- Show tradeoff between path length and smoothness
- Display constraint satisfaction (velocity limits, clearance)</p>
<p>Implementation: p5.js with gradient-based trajectory optimization</p>
</details>
<h2 id="putting-it-all-together">Putting It All Together</h2>
<p>A complete autonomous system integrates all these components:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code>┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   LIDAR     │────▶│  Detection  │────▶│   Tracks    │
└─────────────┘     └─────────────┘     └─────────────┘
                                               │
┌─────────────┐     ┌─────────────┐            │
│   Camera    │────▶│  Detection  │────────────┤
└─────────────┘     └─────────────┘            │
                                               ▼
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│  GPS/IMU    │────▶│   State     │────▶│    SLAM     │
└─────────────┘     │  Estimation │     │  (optional) │
                    └─────────────┘     └─────────────┘
                           │                   │
                           ▼                   ▼
                    ┌─────────────┐     ┌─────────────┐
                    │   Fusion    │◀────│  World      │
                    │             │     │  Model      │
                    └─────────────┘     └─────────────┘
                           │
                           ▼
                    ┌─────────────┐     ┌─────────────┐
                    │  Planning   │────▶│   Control   │
                    └─────────────┘     └─────────────┘
</code></pre></div></td></tr></table></div>
<p>The system runs at different rates:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Typical Rate</th>
<th>Latency Requirement</th>
</tr>
</thead>
<tbody>
<tr>
<td>LIDAR processing</td>
<td>10-20 Hz</td>
<td>&lt;50ms</td>
</tr>
<tr>
<td>Camera detection</td>
<td>10-30 Hz</td>
<td>&lt;100ms</td>
</tr>
<tr>
<td>State estimation</td>
<td>100-400 Hz</td>
<td>&lt;10ms</td>
</tr>
<tr>
<td>Tracking</td>
<td>10-20 Hz</td>
<td>&lt;50ms</td>
</tr>
<tr>
<td>Planning</td>
<td>5-10 Hz</td>
<td>&lt;100ms</td>
</tr>
<tr>
<td>Control</td>
<td>50-100 Hz</td>
<td>&lt;20ms</td>
</tr>
</tbody>
</table>
<h2 id="python-implementation">Python Implementation</h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">class</span> <span class="nc">KalmanFilter</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dim_x</span><span class="p">,</span> <span class="n">dim_z</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize Kalman filter for state dimension dim_x, measurement dimension dim_z.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dim_x</span> <span class="o">=</span> <span class="n">dim_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dim_z</span> <span class="o">=</span> <span class="n">dim_z</span>

        <span class="c1"># State estimate and covariance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">dim_x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">P</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">dim_x</span><span class="p">)</span>

        <span class="c1"># State transition and control matrices</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">F</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">dim_x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">dim_x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

        <span class="c1"># Observation matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">H</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">dim_z</span><span class="p">,</span> <span class="n">dim_x</span><span class="p">))</span>

        <span class="c1"># Noise covariances</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Q</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">dim_x</span><span class="p">)</span>  <span class="c1"># Process noise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">R</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="n">dim_z</span><span class="p">)</span>  <span class="c1"># Measurement noise</span>

    <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Prediction step.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">u</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">u</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">B</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>

        <span class="c1"># Predicted state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">B</span> <span class="o">@</span> <span class="n">u</span>

        <span class="c1"># Predicted covariance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">F</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">Q</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Update step with measurement z.&quot;&quot;&quot;</span>
        <span class="c1"># Innovation (measurement residual)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">z</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>

        <span class="c1"># Innovation covariance</span>
        <span class="n">S</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">R</span>

        <span class="c1"># Kalman gain</span>
        <span class="n">K</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="o">.</span><span class="n">T</span> <span class="o">@</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>

        <span class="c1"># Updated state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">K</span> <span class="o">@</span> <span class="n">y</span>

        <span class="c1"># Updated covariance</span>
        <span class="n">I</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dim_x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">P</span> <span class="o">=</span> <span class="p">(</span><span class="n">I</span> <span class="o">-</span> <span class="n">K</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">H</span><span class="p">)</span> <span class="o">@</span> <span class="bp">self</span><span class="o">.</span><span class="n">P</span>


<span class="k">def</span> <span class="nf">iou_2d</span><span class="p">(</span><span class="n">box1</span><span class="p">,</span> <span class="n">box2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute 2D IoU between two boxes [x1, y1, x2, y2].&quot;&quot;&quot;</span>
    <span class="n">x1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">box1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">box2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">y1</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">box1</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">box2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">x2</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">box1</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">box2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">y2</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">box1</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">box2</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>

    <span class="n">intersection</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">x2</span> <span class="o">-</span> <span class="n">x1</span><span class="p">)</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">y2</span> <span class="o">-</span> <span class="n">y1</span><span class="p">)</span>

    <span class="n">area1</span> <span class="o">=</span> <span class="p">(</span><span class="n">box1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">box1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">box1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="n">box1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">area2</span> <span class="o">=</span> <span class="p">(</span><span class="n">box2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">box2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="n">box2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="n">box2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">union</span> <span class="o">=</span> <span class="n">area1</span> <span class="o">+</span> <span class="n">area2</span> <span class="o">-</span> <span class="n">intersection</span>

    <span class="k">return</span> <span class="n">intersection</span> <span class="o">/</span> <span class="n">union</span> <span class="k">if</span> <span class="n">union</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>


<span class="k">def</span> <span class="nf">astar</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">goal</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A* path planning on a grid.&quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">heapq</span> <span class="kn">import</span> <span class="n">heappush</span><span class="p">,</span> <span class="n">heappop</span>

    <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="n">grid</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">open_set</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="n">start</span><span class="p">)]</span>
    <span class="n">came_from</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">g_score</span> <span class="o">=</span> <span class="p">{</span><span class="n">start</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">heuristic</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">while</span> <span class="n">open_set</span><span class="p">:</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">current</span> <span class="o">=</span> <span class="n">heappop</span><span class="p">(</span><span class="n">open_set</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">current</span> <span class="o">==</span> <span class="n">goal</span><span class="p">:</span>
            <span class="c1"># Reconstruct path</span>
            <span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="n">current</span><span class="p">]</span>
            <span class="k">while</span> <span class="n">current</span> <span class="ow">in</span> <span class="n">came_from</span><span class="p">:</span>
                <span class="n">current</span> <span class="o">=</span> <span class="n">came_from</span><span class="p">[</span><span class="n">current</span><span class="p">]</span>
                <span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">path</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="ow">in</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]:</span>
            <span class="n">neighbor</span> <span class="o">=</span> <span class="p">(</span><span class="n">current</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">dx</span><span class="p">,</span> <span class="n">current</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dy</span><span class="p">)</span>

            <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">neighbor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">rows</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">neighbor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">cols</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">grid</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Obstacle</span>
                    <span class="k">continue</span>

                <span class="n">tentative_g</span> <span class="o">=</span> <span class="n">g_score</span><span class="p">[</span><span class="n">current</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>

                <span class="k">if</span> <span class="n">neighbor</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">g_score</span> <span class="ow">or</span> <span class="n">tentative_g</span> <span class="o">&lt;</span> <span class="n">g_score</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]:</span>
                    <span class="n">came_from</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">current</span>
                    <span class="n">g_score</span><span class="p">[</span><span class="n">neighbor</span><span class="p">]</span> <span class="o">=</span> <span class="n">tentative_g</span>
                    <span class="n">f</span> <span class="o">=</span> <span class="n">tentative_g</span> <span class="o">+</span> <span class="n">heuristic</span><span class="p">(</span><span class="n">neighbor</span><span class="p">,</span> <span class="n">goal</span><span class="p">)</span>
                    <span class="n">heappush</span><span class="p">(</span><span class="n">open_set</span><span class="p">,</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">neighbor</span><span class="p">))</span>

    <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># No path found</span>
</code></pre></div></td></tr></table></div>
<h2 id="summary_1">Summary</h2>
<p>This capstone chapter integrates linear algebra concepts into the autonomous systems pipeline:</p>
<p><strong>Sensing:</strong></p>
<ul>
<li>LIDAR provides 3D point clouds for accurate range data</li>
<li>Camera calibration ensures accurate projection between 3D and 2D</li>
<li>Multiple sensors provide complementary information</li>
</ul>
<p><strong>State Estimation:</strong></p>
<ul>
<li>State and measurement vectors represent system and observations</li>
<li>Kalman filter optimally fuses predictions with measurements</li>
<li>Extended Kalman filter handles nonlinear dynamics</li>
<li>Sensor fusion combines multiple sources for robust estimation</li>
</ul>
<p><strong>Localization and Mapping:</strong></p>
<ul>
<li>SLAM jointly estimates robot pose and environment map</li>
<li>Graph-based SLAM scales to large environments</li>
<li>Loop closure corrects accumulated drift</li>
</ul>
<p><strong>Perception:</strong></p>
<ul>
<li>Object detection identifies road users</li>
<li>Bounding boxes represent object extent in 2D and 3D</li>
<li>Multi-object tracking maintains consistent identities</li>
</ul>
<p><strong>Planning:</strong></p>
<ul>
<li>Path planning finds collision-free routes</li>
<li>Motion planning respects vehicle dynamics</li>
<li>Trajectory optimization balances multiple objectives</li>
</ul>
<h2 id="self-check-questions">Self-Check Questions</h2>
<details class="question">
<summary>Why does the Kalman filter covariance grow during prediction and shrink during update?</summary>
<p>During prediction, we're uncertain about the process—random accelerations, unmodeled dynamics—so uncertainty increases. The process noise covariance <span class="arithmatex">\(\mathbf{Q}\)</span> is added to <span class="arithmatex">\(\mathbf{P}\)</span>. During update, we receive new information from sensors, which reduces uncertainty. The more accurate the measurement (smaller <span class="arithmatex">\(\mathbf{R}\)</span>), the more the covariance shrinks. The Kalman gain determines how much to trust the measurement versus the prediction.</p>
</details>
<details class="question">
<summary>What problem does SLAM solve that pure localization or pure mapping cannot?</summary>
<p>Pure localization requires a pre-existing map, which isn't available in new environments. Pure mapping requires known robot poses, which requires localization. SLAM solves this by jointly estimating both, using the observation that landmarks constrain the robot pose and vice versa. As the robot revisits places (loop closure), the joint estimation corrects accumulated drift in both the trajectory and the map.</p>
</details>
<details class="question">
<summary>Why is sensor fusion more than just averaging sensor measurements?</summary>
<p>Sensor fusion must account for: (1) different sensors measuring different things (GPS measures position, IMU measures acceleration), (2) different noise characteristics (GPS is noisy but absolute, IMU is precise but drifts), (3) different update rates (IMU at 400Hz, GPS at 10Hz), and (4) correlations between measurements. The Kalman filter optimally weights each measurement based on its uncertainty and what it measures, propagates state between measurements, and maintains consistent uncertainty estimates.</p>
</details>
<details class="question">
<summary>How does trajectory optimization differ from path planning?</summary>
<p>Path planning finds a geometric path (sequence of positions) that avoids obstacles. Trajectory optimization adds: (1) time parameterization (when to be where), (2) velocity and acceleration profiles, (3) dynamic feasibility (can the vehicle actually follow this?), and (4) smoothness and comfort objectives. A path might be geometrically valid but require infinite acceleration at corners. Trajectory optimization produces paths that are both collision-free and physically achievable.</p>
</details>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../14-3d-geometry-and-transformations/quiz/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Quiz">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Quiz
              </div>
            </div>
          </a>
        
        
          
          <a href="quiz/" class="md-footer__link md-footer__link--next" aria-label="Next: Quiz">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Quiz
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "navigation.top", "navigation.footer", "content.action.edit"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="../../js/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>